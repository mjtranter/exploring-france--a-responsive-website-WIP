export default async function handler(req, res) {
    try {
        const apiKey = process.env.CURRENCY_API_KEY;
        const currency = () => {
            switch (req.query.code) {
                case "jp":
                    return "JPY";
                case "ca":
                    return "CAD";
                default:
                    return "GBP";
            }
        };
        console.log(apiKey);
        const response = await fetch(`https://v6.exchangerate-api.com/v6/${apiKey}/pair/${currency}/EUR`);
        const data = await response.json();
        res.status(200).json(data);
    }
    catch (error) {
        res.status(500).json({ error: "Failed to fetch weather" });
    }
}